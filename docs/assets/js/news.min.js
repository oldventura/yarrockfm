var currentPage=null;const fm=new YarRockFM;function startup(){var e=window.location.search;if(e){var a=new URLSearchParams(e);if(currentPage=parseInt(a.get("page")))return $("#nextPage").before(`<li class="page-item"><a class="page-link" href="news.html?page=${currentPage}">${currentPage}</a></li>`),void load_page(currentPage);window.location="news.html?page=1"}else get_pages()}async function get_pages(){await fm.get_tree();var e=await fm.get_news_pages();$("#nextPage").before(`<li class="page-item"><a class="page-link" href="news.html?page=${e.length}">${e.length}</a></li>`),load_page(currentPage=e.length)}async function load_page(e){(await fm.get_news(e)).news.forEach((function(e){console.log(e),$("#newsContainer").append(`<div class="card textlight bg-dark text-light mb-2"><div class="card-body"><h4 class="card-title">${e.heading}</h4><h6 class="text-muted card-subtitle mb-2">${e.date}</h6><p class="card-text">${e.body}</p></div></div>`)}))}function getPreviousPage(){window.location="news.html?page="+(currentPage-1)}function getNextPage(){window.location=`news.html?page=${currentPage+1}`}startup();